language: node_js

# Version number
node_js:
  - 0.12
 # - 5.0
  #- 0.11
  
services:
  - mysql
  - postgres
  - redis
  - memcache
  - elasticsearch
  - mongodb
  - rabbitmq
  
build:
 # pre_ci:
  #  - docker build -t=quay.io/revathird/cock1_nod_multipush56 .
  #  - docker build -t=shippabledocker/cock1_nod_multipush56push .

  pre_ci_boot:
    image_name: drydock/u12nodpls
    image_tag: prod
    pull: true
    options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'

  ci:
    - ps -eax
    - ls -al

  #post_ci:
    #- docker build -t=shippabledocker/cock1_nod_multipush56:multi123 .    
    #- docker push shippabledocker/cock1_nod_multipush56:multi123
  #  - docker build -t=shippabledocker/cock1_nod_multipush56push .    
   # - docker push shippabledocker/cock1_nod_multipush56push

integrations:
  hub:
    - integrationName: docker
      type: docker    
      branches:
        only:
          - master
       
#  notifications:
   # - integrationName: sample_java
   #   type: webhook
   #   payload:
    #    - API_URL=$SHIPPABLE_API_URL
     #   - CONTAINER_NAME=$SHIPPABLE_CONTAINER_NAME
     #   - FOO=bar
     #   - BOO=buzz
     # on_start: always
     # on_success: always
     # on_failure: always
     # on_pull_request: always
 
