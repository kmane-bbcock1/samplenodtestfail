language: node_js

node_js:
  - 0.10.25
  - 0.12

env:
  - XUNIT_FILE=shippable/testresults/result.xml

build:
  advancedReporting: true
  
  ci:
    - mkdir -p shippable/testresults
    - mkdir -p shippable/codecoverage
    #- grunt
    - ./node_modules/.bin/istanbul cover grunt -- -u tdd
    - ./node_modules/.bin/istanbul report cobertura --dir  shippable/codecoverage/
 
integrations:
  notifications:
    - integrationName: email
      type: email
      recipients: 
        - varsha@shippable.com
      sendConsoleLogs : true
      sendCoverageReports : true
      on_start: always  
      on_success: always
      on_failure: always
      on_pull_request: always
